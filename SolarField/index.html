<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolarPerformanceCalc - SolarField</title>
    <link rel="stylesheet" type="text/css" href="https://damuellen.github.io/SPC-Doc/all.css" media="all" />
</head>
<body>
    <header>
        <a href="https://damuellen.github.io/SPC-Doc/">
            <strong>
                SolarPerformanceCalc
            </strong>
            <span>Documentation</span>
        </a>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#relationships">Relationships</a><ul><li><a href="#relationships">Nested Types</a></li><li><a href="#relationships">Conforms To</a></li></ul></li><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#solarfield.description">description</a></li><li class="variable"><a href="#solarfield.name">name</a></li><li class="variable"><a href="#solarfield.operationmode">operation​Mode</a></li><li class="variable"><a href="#solarfield.eta">eta</a></li><li class="variable"><a href="#solarfield.loopeta">loop​Eta</a></li><li class="variable"><a href="#solarfield.heatlosses">heat​Losses</a></li><li class="variable"><a href="#solarfield.heatlosseshotheader">heat​Losses​Hot​Header</a></li><li class="variable"><a href="#solarfield.heatlosseshce">heat​Losses​HCE</a></li><li class="variable"><a href="#solarfield.header">header</a></li><li class="variable"><a href="#solarfield.loops">loops</a></li><li class="variable"><a href="#solarfield.infocus">in​Focus</a></li><li class="variable"><a href="#solarfield.temperature">temperature</a></li><li class="variable"><a href="#solarfield.massflow">mass​Flow</a></li><li class="variable"><a href="#solarfield.area">area</a></li><li class="variable"><a href="#solarfield.minmassflow">min​Mass​Flow</a></li><li class="variable"><a href="#solarfield.antifreezeflow">anti​Freeze​Flow</a></li><li class="variable"><a href="#solarfield.requiredmassflow">required​Mass​Flow</a></li><li class="variable"><a href="#solarfield.initialstate">initial​State</a></li><li class="variable"><a href="#solarfield.parameter">parameter</a></li><li class="variable"><a href="#solarfield.values">values</a></li><li class="variable"><a href="#solarfield.measurements">measurements</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#solarfield.requiredmassflow(from:)">required​Mass​Flow(from:​)</a></li><li class="function"><a href="#solarfield.heatloss(pipe:ambient:)">heat​Loss(pipe:​ambient:​)</a></li><li class="function"><a href="#solarfield.parasitics()">parasitics()</a></li><li class="function"><a href="#solarfield.eta(collector:)">eta(collector:​)</a></li><li class="function"><a href="#solarfield.inlettemperature(from:)">inlet​Temperature(from:​)</a></li><li class="function"><a href="#solarfield.isfreezeprotectionrequired()">is​Freeze​Protection​Required()</a></li><li class="function"><a href="#solarfield.heatlosses(header:ambient:)">heat​Losses(header:​ambient:​)</a></li><li class="function"><a href="#solarfield.calculate(collector:ambient:)">calculate(collector:​ambient:​)</a></li><li class="function"><a href="#solarfield.heatlosses(hce:)">heat​Losses(hce:​)</a></li><li class="function"><a href="#solarfield.factorheatlosshtf(infocus:)">factor​Heat​Loss​HTF(in​Focus:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Structure</small>
    <code class="name">Solar​Field</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">struct</span> <span class="type">SolarField</span>: <a href="https://damuellen.github.io/SPC-Doc/Parameterizable"><span class="type">Parameterizable</span></a>, <a href="https://damuellen.github.io/SPC-Doc/HeatTransfer"><span class="type">HeatTransfer</span></a>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>A struct representing the state and functions for mapping the solar field</p>

</div>
<section id="relationships">
    <h2 hidden>Relationships</h2>
        <figure>
    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %405 Pages: 1 -->
<svg width="1128pt" height="243pt"
 viewBox="0.00 0.00 1128.23 243.49" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 239.49)">
<title>%405</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-239.49 1124.2314,-239.49 1124.2314,4 -4,4"/>
<!-- SolarField -->
<g id="node1" class="node structure current">
<title>SolarField</title>
<g id="a_node1"><a xlink:href="https://damuellen.github.io/SPC-Doc/SolarField" xlink:title="SolarField">
<path fill="none" stroke="#000000" stroke-width="3" d="M654.5729,-136.0408C654.5729,-136.0408 462.5729,-136.0408 462.5729,-136.0408 456.5729,-136.0408 450.5729,-130.0408 450.5729,-124.0408 450.5729,-124.0408 450.5729,-112.0408 450.5729,-112.0408 450.5729,-106.0408 456.5729,-100.0408 462.5729,-100.0408 462.5729,-100.0408 654.5729,-100.0408 654.5729,-100.0408 660.5729,-100.0408 666.5729,-106.0408 666.5729,-112.0408 666.5729,-112.0408 666.5729,-124.0408 666.5729,-124.0408 666.5729,-130.0408 660.5729,-136.0408 654.5729,-136.0408"/>
<text text-anchor="middle" x="558.5729" y="-114.3408" font-family="Menlo" font-size="14.00" fill="#000000">SolarField</text>
</a>
</g>
</g>
<!-- MeasurementsConvertible -->
<g id="node2" class="node protocol">
<title>MeasurementsConvertible</title>
<g id="a_node2"><a xlink:href="https://damuellen.github.io/SPC-Doc/MeasurementsConvertible" xlink:title="MeasurementsConvertible">
<path fill="none" stroke="#000000" d="M1108.2314,-71.1618C1108.2314,-71.1618 916.2314,-71.1618 916.2314,-71.1618 910.2314,-71.1618 904.2314,-65.1618 904.2314,-59.1618 904.2314,-59.1618 904.2314,-47.1618 904.2314,-47.1618 904.2314,-41.1618 910.2314,-35.1618 916.2314,-35.1618 916.2314,-35.1618 1108.2314,-35.1618 1108.2314,-35.1618 1114.2314,-35.1618 1120.2314,-41.1618 1120.2314,-47.1618 1120.2314,-47.1618 1120.2314,-59.1618 1120.2314,-59.1618 1120.2314,-65.1618 1114.2314,-71.1618 1108.2314,-71.1618"/>
<text text-anchor="middle" x="1012.2314" y="-49.4618" font-family="Menlo" font-size="14.00" fill="#000000">MeasurementsConvertible</text>
</a>
</g>
</g>
<!-- SolarField&#45;&gt;MeasurementsConvertible -->
<g id="edge1" class="edge conformsTo">
<title>SolarField&#45;&gt;MeasurementsConvertible</title>
<path fill="none" stroke="#000000" d="M666.659,-102.5831C735.1018,-92.7949 823.6315,-80.134 893.9498,-70.0776"/>
<polygon fill="#000000" stroke="#000000" points="894.7842,-73.4939 904.188,-68.6134 893.7931,-66.5644 894.7842,-73.4939"/>
</g>
<!-- Parameterizable -->
<g id="node3" class="node protocol">
<title>Parameterizable</title>
<g id="a_node3"><a xlink:href="https://damuellen.github.io/SPC-Doc/Parameterizable" xlink:title="Parameterizable">
<path fill="none" stroke="#000000" d="M361.1734,-36C361.1734,-36 169.1734,-36 169.1734,-36 163.1734,-36 157.1734,-30 157.1734,-24 157.1734,-24 157.1734,-12 157.1734,-12 157.1734,-6 163.1734,0 169.1734,0 169.1734,0 361.1734,0 361.1734,0 367.1734,0 373.1734,-6 373.1734,-12 373.1734,-12 373.1734,-24 373.1734,-24 373.1734,-30 367.1734,-36 361.1734,-36"/>
<text text-anchor="middle" x="265.1734" y="-14.3" font-family="Menlo" font-size="14.00" fill="#000000">Parameterizable</text>
</a>
</g>
</g>
<!-- SolarField&#45;&gt;Parameterizable -->
<g id="edge4" class="edge conformsTo">
<title>SolarField&#45;&gt;Parameterizable</title>
<path fill="none" stroke="#000000" d="M505.7801,-100.04C455.7682,-82.9873 380.636,-57.3694 327.6594,-39.3059"/>
<polygon fill="#000000" stroke="#000000" points="328.6309,-35.9394 318.0364,-36.0248 326.3718,-42.5648 328.6309,-35.9394"/>
</g>
<!-- HeatTransfer -->
<g id="node4" class="node protocol">
<title>HeatTransfer</title>
<g id="a_node4"><a xlink:href="https://damuellen.github.io/SPC-Doc/HeatTransfer" xlink:title="HeatTransfer">
<path fill="none" stroke="#000000" d="M204,-201.7784C204,-201.7784 12,-201.7784 12,-201.7784 6,-201.7784 0,-195.7784 0,-189.7784 0,-189.7784 0,-177.7784 0,-177.7784 0,-171.7784 6,-165.7784 12,-165.7784 12,-165.7784 204,-165.7784 204,-165.7784 210,-165.7784 216,-171.7784 216,-177.7784 216,-177.7784 216,-189.7784 216,-189.7784 216,-195.7784 210,-201.7784 204,-201.7784"/>
<text text-anchor="middle" x="108" y="-180.0784" font-family="Menlo" font-size="14.00" fill="#000000">HeatTransfer</text>
</a>
</g>
</g>
<!-- SolarField&#45;&gt;HeatTransfer -->
<g id="edge2" class="edge conformsTo">
<title>SolarField&#45;&gt;HeatTransfer</title>
<path fill="none" stroke="#000000" d="M450.3629,-133.8284C382.737,-143.6949 295.6207,-156.405 226.1903,-166.5347"/>
<polygon fill="#000000" stroke="#000000" points="225.4692,-163.1028 216.0793,-168.0099 226.4798,-170.0294 225.4692,-163.1028"/>
</g>
<!-- CustomStringConvertible -->
<g id="node5" class="node unknown">
<title>CustomStringConvertible</title>
<path fill="none" stroke="#000000" d="M952.8325,-235.49C952.8325,-235.49 760.8325,-235.49 760.8325,-235.49 754.8325,-235.49 748.8325,-229.49 748.8325,-223.49 748.8325,-223.49 748.8325,-211.49 748.8325,-211.49 748.8325,-205.49 754.8325,-199.49 760.8325,-199.49 760.8325,-199.49 952.8325,-199.49 952.8325,-199.49 958.8325,-199.49 964.8325,-205.49 964.8325,-211.49 964.8325,-211.49 964.8325,-223.49 964.8325,-223.49 964.8325,-229.49 958.8325,-235.49 952.8325,-235.49"/>
<text text-anchor="middle" x="856.8325" y="-213.79" font-family="Menlo" font-size="14.00" fill="#000000">CustomStringConvertible</text>
</g>
<!-- SolarField&#45;&gt;CustomStringConvertible -->
<g id="edge3" class="edge conformsTo">
<title>SolarField&#45;&gt;CustomStringConvertible</title>
<path fill="none" stroke="#000000" d="M612.5854,-136.0503C663.3148,-152.9651 739.2465,-178.2831 792.959,-196.1925"/>
<polygon fill="#000000" stroke="#000000" points="792.1249,-199.6038 802.7186,-199.4467 794.3392,-192.9632 792.1249,-199.6038"/>
</g>
</g>
</svg>


    <figcaption hidden>Inheritance graph for SolarField.</figcaption>
</figure>
        <h3>Nested Types</h3>
<dl>
    <dt class="enumeration"><code><a href="https://damuellen.github.io/SPC-Doc/SolarField_Loop">SolarField.Loop</a></code></dt>
<dd></dd>
</dl>
<h3>Conforms To</h3>
<dl>
    <dt class="unknown"><code>CustomStringConvertible</code></dt>
</dl>
</section>
    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="solarfield.description">
    <h3>
        <code><a href="#solarfield.description">description</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">description</span>: <span class="type">String</span>  </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.name">
    <h3>
        <code><a href="#solarfield.name">name</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">let</span> <span class="variable">name</span> = <span class="string literal">"</span><span class="string literal">Solar field</span><span class="string literal">"</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The name of the solar field.</p>

</div>
</div>
<div role="article" class="variable" id="solarfield.operationmode">
    <h3>
        <code><a href="#solarfield.operationmode">operation​Mode</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">private</span>(<span class="variable">set</span>) <span class="keyword">var</span> <span class="variable">operationMode</span>: <span class="type">OperationMode</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The current operating mode of the solar field</p>

</div>
</div>
<div role="article" class="variable" id="solarfield.eta">
    <h3>
        <code><a href="#solarfield.eta">eta</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">private</span>(<span class="variable">set</span>) <span class="keyword">var</span> <span class="variable">eta</span>: <span class="type">Double</span> = <span class="number literal">0.0</span></body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.loopeta">
    <h3>
        <code><a href="#solarfield.loopeta">loop​Eta</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">private</span>(<span class="variable">set</span>) <span class="keyword">var</span> <span class="variable">loopEta</span>: <span class="type">Double</span> = <span class="number literal">0.0</span></body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.heatlosses">
    <h3>
        <code><a href="#solarfield.heatlosses">heat​Losses</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">private</span>(<span class="variable">set</span>) <span class="keyword">var</span> <span class="variable">heatLosses</span>: <span class="type">Double</span> = <span class="number literal">0.0</span></body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.heatlosseshotheader">
    <h3>
        <code><a href="#solarfield.heatlosseshotheader">heat​Losses​Hot​Header</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">private</span>(<span class="variable">set</span>) <span class="keyword">var</span> <span class="variable">heatLossesHotHeader</span>: <span class="type">Double</span> = <span class="number literal">0.0</span></body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.heatlosseshce">
    <h3>
        <code><a href="#solarfield.heatlosseshce">heat​Losses​HCE</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">private</span>(<span class="variable">set</span>) <span class="keyword">var</span> <span class="variable">heatLossesHCE</span>: <span class="type">Double</span> = <span class="number literal">0.0</span></body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.header">
    <h3>
        <code><a href="#solarfield.header">header</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">header</span>: <a href="https://damuellen.github.io/SPC-Doc/HeatTransfer"><span class="type">HeatTransfer</span></a></body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.loops">
    <h3>
        <code><a href="#solarfield.loops">loops</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">loops</span>: [<a href="https://damuellen.github.io/SPC-Doc/Cycle"><span class="type">Cycle</span></a>] </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.infocus">
    <h3>
        <code><a href="#solarfield.infocus">in​Focus</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">inFocus</span>: <span class="type">Ratio</span>  </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.temperature">
    <h3>
        <code><a href="#solarfield.temperature">temperature</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">temperature</span>: (<span class="variable">inlet</span>: <span class="type">Temperature</span>, <span class="variable">outlet</span>: <span class="type">Temperature</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The temperature at the inlet and outlet of the solar field.</p>

</div>
</div>
<div role="article" class="variable" id="solarfield.massflow">
    <h3>
        <code><a href="#solarfield.massflow">mass​Flow</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">massFlow</span>: <span class="type">MassFlow</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The mass flow rate of the solar field header.</p>

</div>
</div>
<div role="article" class="variable" id="solarfield.area">
    <h3>
        <code><a href="#solarfield.area">area</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">let</span> <span class="variable">area</span> = <span class="variable">Design</span>.<span class="variable">layout</span>.<span class="variable">solarField</span> * <span class="variable">Collector</span>.<span class="variable">parameter</span>.<span class="variable">areaSCAnet</span>
    * <span class="number literal">2</span> * <span class="variable">Double</span>(<span class="variable">SolarField</span>.<span class="variable">parameter</span>.<span class="variable">numberOfSCAsInRow</span>) </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.minmassflow">
    <h3>
        <code><a href="#solarfield.minmassflow">min​Mass​Flow</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">let</span> <span class="variable">minMassFlow</span>  </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.antifreezeflow">
    <h3>
        <code><a href="#solarfield.antifreezeflow">anti​Freeze​Flow</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">let</span> <span class="variable">antiFreezeFlow</span>  </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.requiredmassflow">
    <h3>
        <code><a href="#solarfield.requiredmassflow">required​Mass​Flow</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">requiredMassFlow</span>: <span class="type">MassFlow</span> = <span class="variable">HeatExchanger</span>.<span class="variable">designMassFlow</span></body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.initialstate">
    <h3>
        <code><a href="#solarfield.initialstate">initial​State</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">static</span> <span class="keyword">let</span> <span class="variable">initialState</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Creates a <code>SolarField</code> instance with the fixed initial state.</p>

</div>
</div>
<div role="article" class="variable" id="solarfield.parameter">
    <h3>
        <code><a href="#solarfield.parameter">parameter</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> <span class="variable">parameter</span>: <span class="type">Parameter</span> = <span class="variable">Parameters</span>.<span class="variable">sf</span></body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>The static parameters for the <code>SolarField</code>.</p>

</div>
</div>
<div role="article" class="variable" id="solarfield.values">
    <h3>
        <code><a href="#solarfield.values">values</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">var</span> <span class="variable">values</span>: [<span class="type">Double</span>]  </body></html></code></pre>
</div>
</div>
<div role="article" class="variable" id="solarfield.measurements">
    <h3>
        <code><a href="#solarfield.measurements">measurements</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">static</span> <span class="keyword">var</span> <span class="variable">measurements</span>: [(<span class="variable">name</span>: <span class="type">String</span>, <span class="variable">unit</span>: <span class="type">String</span>)]  </body></html></code></pre>
</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="solarfield.requiredmassflow(from:)">
    <h3>
        <code><a href="#solarfield.requiredmassflow(from:)">required​Mass​Flow(from:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">requiredMassFlow</span>(<span class="variable">from</span> <span class="variable">storage</span>: <a href="https://damuellen.github.io/SPC-Doc/Storage"><span class="type">Storage</span></a>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calculates the required mass flow rate of the solar field based on the state of the storage.</p>

</div>
<div class="discussion">
    <p>The required mass flow rate is determined based on the relative charge of the storage.
If the storage has a relative charge below the specified charge threshold, an additional
mass flow is added to the required mass flow to ensure proper charging.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>storage</th>
    <td><code class="type">Storage</code></td>
    <td><p>The <code>Storage</code> instance representing the energy storage system.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="solarfield.heatloss(pipe:ambient:)">
    <h3>
        <code><a href="#solarfield.heatloss(pipe:ambient:)">heat​Loss(pipe:​ambient:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">heatLoss</span>(<span class="variable">pipe</span>: <span class="type">Temperature</span>, <span class="variable">ambient</span>: <span class="type">Temperature</span>)  </body></html></code></pre>
</div>
</div>
<div role="article" class="function" id="solarfield.parasitics()">
    <h3>
        <code><a href="#solarfield.parasitics()">parasitics()</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="keyword">func</span> <span class="function">parasitics</span>() -&gt; <span class="type">Double</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calculates the parasitics of pumps</p>

</div>
</div>
<div role="article" class="function" id="solarfield.eta(collector:)">
    <h3>
        <code><a href="#solarfield.eta(collector:)">eta(collector:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">eta</span>(<span class="variable">collector</span>: <a href="https://damuellen.github.io/SPC-Doc/Collector"><span class="type">Collector</span></a>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calculates the efficiency (η) of the solar collector loop.</p>

</div>
</div>
<div role="article" class="function" id="solarfield.inlettemperature(from:)">
    <h3>
        <code><a href="#solarfield.inlettemperature(from:)">inlet​Temperature(from:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">inletTemperature</span>(<span class="variable">from</span> <span class="variable">storage</span>: <a href="https://damuellen.github.io/SPC-Doc/Storage"><span class="type">Storage</span></a>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Determines the inlet temperature of the solar field
depending on the operating mode of the storage</p>

</div>
</div>
<div role="article" class="function" id="solarfield.isfreezeprotectionrequired()">
    <h3>
        <code><a href="#solarfield.isfreezeprotectionrequired()">is​Freeze​Protection​Required()</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">isFreezeProtectionRequired</span>() -&gt; <span class="type">Bool</span>  </body></html></code></pre>
</div>
</div>
<div role="article" class="function" id="solarfield.heatlosses(header:ambient:)">
    <h3>
        <code><a href="#solarfield.heatlosses(header:ambient:)">heat​Losses(header:​ambient:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">heatLosses</span>(<span class="variable">header</span> <span class="variable">temperature</span>: <span class="type">Temperature</span>, <span class="variable">ambient</span>: <span class="type">Temperature</span>) -&gt; <span class="type">Temperature</span>  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calculate heat losses from the header of the solar field.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>temperature</th>
    <td><code class="type">Temperature</code></td>
    <td><p>The current temperature of the header.</p>
</td>
</tr>
<tr>
    <th>ambient</th>
    <td><code class="type">Temperature</code></td>
    <td><p>The ambient temperature surrounding the solar field.</p>
</td>
</tr>
  </tbody>
</table>
  <h4>Returns</h4>
  <p>The new temperature after accounting for heat losses.</p>

</div>
<div role="article" class="function" id="solarfield.calculate(collector:ambient:)">
    <h3>
        <code><a href="#solarfield.calculate(collector:ambient:)">calculate(collector:​ambient:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">calculate</span>(<span class="variable">collector</span>: <a href="https://damuellen.github.io/SPC-Doc/Collector"><span class="type">Collector</span></a>, <span class="variable">ambient</span>: <span class="type">Temperature</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Calculates the parameters and behavior of a solar collector loop.</p>

</div>
<div class="discussion">
    <p>This method is responsible for calculating and updating various parameters
and behaviors of a solar collector loop in the solar field. The calculation
is based on the characteristics of the collector, ambient temperature, and
other factors related to the solar field. The method adjusts the mass flow
rate, outlet temperature, and operation mode of the solar collector loop
based on the heat losses, insolation, and other constraints.</p>

<p>The calculation process involves the following steps:</p>

<ol>
<li>Calculate the insolation for the absorber in the collector and determine
whether it has changed since the last calculation.</li>
<li>Get the elevation of the parabolic trough collector.</li>
<li>Calculate the heat that can be absorbed by the Heat Transfer Fluid (HTF)
per unit mass.</li>
<li>Calculate the heat losses of the Heat Collector Element (HCE) for the
maximum outlet temperature.</li>
<li>Add heat losses of the connecting pipes and apply adjustment factors for
heat loss.</li>
<li>Calculate the available heat (delta heat) per square meter of the
collector area after considering heat losses.</li>
<li>Determine the appropriate mass flow rate of the HTF based on the
available heat.</li>
<li>Check if the calculated mass flow rate falls within acceptable limits
for the loop operation.</li>
<li>Depending on the calculated mass flow, update the operation mode of the
solar collector loop to track the sun, defocus, follow, start up, or
shutdown.</li>
<li>Perform additional checks and adjustments related to elevation,
temperature, and operation mode.</li>
<li>Update the mass flow rates of all loops (near, far, average) based on
the calculated header mass flow rate.</li>
<li>Calculate the outlet temperature of the solar collector loop if the
mass flow rate is positive.</li>
</ol>

<p>The method modifies the state of the <code>SolarField</code> instance (self) by
updating the <code>header.massFlow</code>, <code>loops</code>, <code>operationMode</code>, and other
relevant properties to reflect the calculated values and behaviors of the
solar collector loop.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>collector</th>
    <td><code class="type">Collector</code></td>
    <td><p>The <code>Collector</code> instance representing the specific solar collector in the loop.</p>
</td>
</tr>
<tr>
    <th>ambient</th>
    <td><code class="type">Temperature</code></td>
    <td><p>The <code>Temperature</code> object representing the ambient temperature in the solar field area.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="solarfield.heatlosses(hce:)">
    <h3>
        <code><a href="#solarfield.heatlosses(hce:)">heat​Losses(hce:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">heatLosses</span>(<span class="variable">hce</span>: <span class="type">Double</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Applies the heat loss factor for the HCE.</p>

</div>
</div>
<div role="article" class="function" id="solarfield.factorheatlosshtf(infocus:)">
    <h3>
        <code><a href="#solarfield.factorheatlosshtf(infocus:)">factor​Heat​Loss​HTF(in​Focus:​)</a></code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><html><body><span class="attribute">mutating</span> <span class="keyword">func</span> <span class="function">factorHeatLossHTF</span>(<span class="variable">inFocus</span>: <span class="type">Double</span>)  </body></html></code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Applies the heat loss factor for the Heat Transfer Fluid (HTF) based on the focus quotient and other parameters.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>in​Focus</th>
    <td><code class="type">Double</code></td>
    <td><p>The focus quotient.</p>
</td>
</tr>
  </tbody>
</table>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2023-08-03T14:46:45+0000">August 3, 2023</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-rc.1</span>.
</p>
    </footer>
</body>
</html>
